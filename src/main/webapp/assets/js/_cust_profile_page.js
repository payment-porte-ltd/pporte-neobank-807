i18next.init({
	lng: 'EN',
	fallbackLng: 'EN',
	debug: false,
	resources: {
	  EN: {
		translation: {
             /* Menus */
			"idnavmenu_Dashboard":"Dashboard",
			"idnavmenu_ManageFiatWallet":"Manage Fiat Wallet",
			"idnavmenu_DigitalAssets":"Digital Assets",
			"idnavmenu_DigitalAssets":"Digital Assets",
			"idnavmenu_CurrencyRemittance":"Currency Remittance",
			"idnavmenu_ManageCards":"Manage Cards",
			"idnavmenu_Loyalty":"Loyalty",
			"idnavmenu_UpdatePlan":"Update Plan",
			"idnavmenu_Logout":"Logout",
			"idnavmenu_BuyNewPlan":"Buy New Plan",
			"header_buy_porte_token":"Buy Porte Token",
			"btn_buy_coin":"Buy Coin",
			"idnavmenu_Profile":"Profile",
			"idnavmenu_Disputes":"Disputes",
             /* Sub Menus */
            "idnavsubmenu_Dashboard":"Dashboard",
            "idnavsubmenu_ViewandEdit":"View and Edit",
            "idnavsubmenu_ViewWallet":"View Wallet",
            "idnavsubmenu_TopupWallet":"Topup Wallet",
            "idnavsubmenu_SendMoney":"Send Money",
            "idnavsubmenu_CashTransactions":"Cash Transactions",
            "idnavsubmenu_SetupWallet":"Set up Wallet",
            "idnavsubmenu_Bitcoin":"Bitcoin",
            "idnavsubmenu_Assets":"Assets",
            "idnavsubmenu_BuyAsset":"Buy Asset",
            "idnavsubmenu_TransferCoin":"Transfer Coin",
            "idnavsubmenu_Swap":"Swap",
            "idnavsubmenu_SellAssettoFiat":"Sell Asset to Fiat",
            "idnavsubmenu_DisplayTransactions":"Display Transactions",
            "idnavsubmenu_DigitalRemittance":"Digital Remittance",
            "idnavsubmenu_FiatRemittance":"Fiat Remittance",
            "idnavsubmenu_ShowCards":"Show Cards",
            "idnavsubmenu_RedeemPoints":"Redeem Points",
            "idnavsubmenu_ViewDispute":"View Dispute",
            "idnavsubmenu_RaiseDisputes":"Raise Disputes",
            "idnavsubmenu_ChangeYourPlan":"Change Your Plan",
            "idnavsubmenu_BuyNewPlan":"Buy New Plan",
			
            /* Quick links */
            "idnav_UserSettings":"User Settings",
            "idnav_UpdateProfile":"Update Profile",
            "idnav_Logout":"Logout",
             /* Specific Page Content */
			 "id_profile_breadcrumb":"Profile",
			 "id_view_and_edit_breadcrumb":"View and Edit",
			 "edit_profile_btn_label":"Edit profile",
			 "spn_personal_details":"Personal Details",
			 "spn_document":"Documents",
			 "spn_security":"Security",
			 "full_name_label":"Full Name :",
			 "full_name_address_labellabel":"Address :",
			 "contact_label":"Contact :",
			 "dob_label":"DOB :",
			 "status_label":"Status :",
			 "license_no_label":"License No :",
			 "passport_no_label":"Passport No :",
			 "email_label":"Email :",
			 "gender_label":"Gender :",
			 "documents_uploaded_label":"Documents Uploaded",
			 "spn_click_retereve_keys_label":"Click here if you want to retrieve your keys",
			 "spn_change_password_label":"Click here to change your password",
			 "keys_retrival_header":"Keys Retrieval",
			 "question_label":"Do you want to retrieve Stellar or Bitcoin Keys?",
			 "yes_label":"Stellar",
			 "no_label":"Bitcoin",
			 "first_to_fourth_label":"1st to 4th Word",
			 "5th_to_8th_label":"5th to 8th Word",
			 "9th_to_12th_word_label":"9th to 12th Word",
			 "1st_word_label":"1st Word",
			 "2nd_word_label":"2nd Word",
			 "3rd_word_label":"3rd Word",
			 "4th_word_label":"4th Word",
			 "5th_word_label":"5th Word",
			 "6th_word_label":"Enter 6th Word",
			 "7th_word_label":"7th Word",
			 "8th_word_label":"8th Word",
			 "9th_word_label":"9th Word",
			 "10th_word_label":"10th Word",
			 "11th_word_label":"11th Word",
			 "12th_word_label":"12th Word",
			 "change_password_label":"Change Password",
			 "id_submit_btn_label":"Submit",
			 "spn_edit_profile":"Edit Profile",
			 "address_label":"Address",
			 "spn_close_btn":"Close",
			 "spn_submit_btn":"Submit",
			 "data-validation-error-swal-header":"Oops..",
			 "data-validation-problem-with-connection":"Problem with connection",
			 "data-validation-check-your-data":"Please check your data",
			 "data-validation-failed-toget-customer-details":"Failed to get customer details",
			 "data-validation-please-enter-address":"Please Enter Address",
			 "data-validation-success-header":"Success",
			 "data-validation-profile-edited-successful-text":"Profile Edited Successful",
			 "data-validation-profile-edite-failed-text":"There was a problem in updating your profile, please try again",
			 "data-validation-are-you-sure":"Are you sure?",
			 "data-validation-this-the-correct-sequence":"This the correct sequence",
			 "data-validation-yes-button":"Yes",
			 "data-validation-no-button":"No",
			 "data-validation-enter-password-label":"Enter your Password",
			 "data-validation-password-input-label":"Password",
			 "data-validation-password-inpu-error":"Please input your password!",
			 "data-validation-enter-your-current-passsword":"Please enter your current password",
			 "data-validation-enter-your-password":"Please enter your new password",
			 "data-validation-password-is-too-weak":"Your Password is too weak",
			 "data-validation-password-does-not-match":"Confirm password does not match New password",
			 "data-validation-ok-btn":"Ok",
			 "data-validation-cancel-btn":"Cancel",
			 "data-validation-finish-btn":"Finish",

			 
			
			
		}
	  },
	  ES: {
		  translation: {
			/* Menus */
			"idnavmenu_Dashboard":"Tablero",
			"idnavmenu_ManageFiatWallet":"Administrar Monedero Fiat",
			"idnavmenu_DigitalAssets":"Recursos digitales",
			"idnavmenu_CurrencyRemittance":"Remesa de divisas",
			"idnavmenu_ManageCards":"Administrar tarjetas",
			"idnavmenu_Loyalty":"Lealtad",
			"idnavmenu_UpdatePlan":"Actualizar plan",
			"idnavmenu_Logout":"Cerrar sesión",
			"idnavmenu_BuyNewPlan":"Comprar nuevo plan",
			"header_buy_porte_token":"Comprar Token de Porte",
			"btn_buy_coin":"Comprar moneda",
			"idnavmenu_Profile":"Perfil",
             /* Sub Menus */
            "idnavsubmenu_Dashboard":"Tablero",
            "idnavsubmenu_ViewandEdit":"Ver y editar",
            "idnavsubmenu_ViewWallet":"Ver billetera",
            "idnavsubmenu_TopupWallet":"Monedero de recarga",
            "idnavsubmenu_SendMoney":"Enviar dinero",
            "idnavsubmenu_CashTransactions":"Transacciones en efectivo",
            "idnavsubmenu_SetupWallet":"Configurar Monedero",
            "idnavsubmenu_Bitcoin":"Bitcoin",
            "idnavsubmenu_Assets":"Activos",
            "idnavsubmenu_BuyAsset":"Comprar activo",
            "idnavsubmenu_TransferCoin":"Comprar juego de monedas ATransfer",
            "idnavsubmenu_Swap":"Intercambio",
            "idnavsubmenu_SellAssettoFiat":"Vender activos a Fiat",
            "idnavsubmenu_DisplayTransactions":"Mostrar transacciones",
            "idnavsubmenu_DigitalRemittance":"Remesas digitales",
            "idnavsubmenu_FiatRemittance":"Remesa fiduciaria",
            "idnavsubmenu_ShowCards":"Mostrar cartas",
            "idnavsubmenu_RedeemPoints":"Canjear puntos",
            "idnavsubmenu_ViewDispute":"Ver disputa",
            "idnavsubmenu_RaiseDisputes":"Plantear disputas",
            "idnavsubmenu_ChangeYourPlan":"Cambia tu plan",
            "idnavsubmenu_BuyNewPlan":"Comprar nuevo plan",
            /* Quick links */
            "idnav_UserSettings":"Ajustes de usuario",
            "idnav_UpdateProfile":"Actualización del perfil",
            "idnav_Logout":"Cerrar sesión",
             /* Specific Page Content */
			 "id_profile_breadcrumb":"Perfil",
			 "id_view_and_edit_breadcrumb":"Ver y editar",
			 "edit_profile_btn_label":"Editar perfil",
			 "spn_personal_details":"Detalles personales",
			 "spn_document":"Documentos",
			 "spn_security":"Seguridad",
			 "full_name_label":"Nombre completo",
			 "full_name_address_labellabel":"Dirección",
			 "contact_label":"Contacto",
			 "dob_label":"fecha de nacimiento",
			 "status_label":"Estado",
			 "license_no_label":"Número de licencia",
			 "passport_no_label":"Pasaporte no",
			 "email_label":"Correo electrónico",
			 "gender_label":"Género",
			 "documents_uploaded_label":"Documentos cargados",
			 "spn_click_retereve_keys_label":"Haga clic aquí si desea recuperar sus claves",
			 "spn_change_password_label":"Presione aquí para cambiar su contraseña",
			 "keys_retrival_header":"Recuperación de llaves",
			 "question_label":"¿Quieres recuperar Claves Stellar o Bitcoin?",
			 "yes_label":"Stellar",
			 "no_label":"Bitcoin",
			 "first_to_fourth_label":"1ra a 4ta Palabra",
			 "5th_to_8th_label":"5 a 8 palabra",
			 "9th_to_12th_word_label":"9 a 12 palabra",
			 "1st_word_label":"1ra palabra",
			 "2nd_word_label":"2da palabra",
			 "3rd_word_label":"3ra palabra",
			 "4th_word_label":"cuarta palabra",
			 "5th_word_label":"5th Word",
			 "6th_word_label":"Ingrese la sexta palabra",
			 "7th_word_label":"séptima palabra",
			 "8th_word_label":"octava palabra",
			 "9th_word_label":"novena palabra",
			 "10th_word_label":"décima palabra",
			 "11th_word_label":"palabra 11",
			 "12th_word_label":"palabra 12",
			 "change_password_label":"Cambia la contraseña",
			 "id_submit_btn_label":"Enviar",
			 "spn_edit_profile":"Editar perfil",
			 "address_label":"Dirección",
			 "spn_close_btn":"Cerca",
			 "spn_submit_btn":"Enviar",
			 "data-validation-error-swal-header":"Oops..",
			 "data-validation-problem-with-connection":"problema con la conexion",
			 "data-validation-check-your-data":"Por favor revisa tus datos",
			 "data-validation-failed-toget-customer-details":"Error al obtener los detalles del cliente",
			 "data-validation-please-enter-address":"Ingrese la dirección",
			 "data-validation-success-header":"Éxito",
			 "data-validation-profile-edited-successful-text":"Perfil editado correctamente",
			 "data-validation-profile-edite-failed-text":"Hubo un problema al actualizar tu perfil, por favor inténtalo de nuevo",
			 "data-validation-are-you-sure":"Estas segura",
			 "data-validation-this-the-correct-sequence":"Esta es la secuencia correcta",
			 "data-validation-yes-button":"Sí",
			 "data-validation-no-button":"No",
			 "data-validation-enter-password-label":"Ingresa tu contraseña",
			 "data-validation-password-input-label":"Clave",
			 "data-validation-password-inpu-error":"¡Por favor ingrese su contraseña!",
			 "data-validation-enter-your-current-passsword":"Por favor ingrese su contraseña actual",
			 "data-validation-enter-your-password":"Por favor ingrese su nueva contraseña",
			 "data-validation-password-is-too-weak":"Tu contraseña es muy débil",
			 "data-validation-password-does-not-match":"Confirmar contraseña no coincide Nueva contraseña",
			 "data-validation-ok-btn":"OK",
			 "data-validation-cancel-btn":"Cancelar",
			 "data-validation-finish-btn":"Finalizar",
			
			}
		},
	}
  }, function(err, t) {
	   updateContent();
  });
  
  function updateContent() {
        /* Menus */
        $('#idnavmenu_Dashboard').text(i18next.t('idnavmenu_Dashboard')); 
        $('#idnavmenu_ManageFiatWallet').text(i18next.t('idnavmenu_ManageFiatWallet')); 
        $('#idnavmenu_DigitalAssets').text(i18next.t('idnavmenu_DigitalAssets')); 
        $('#idnavmenu_CurrencyRemittance').text(i18next.t('idnavmenu_CurrencyRemittance')); 
        $('#idnavmenu_ManageCards').text(i18next.t('idnavmenu_ManageCards')); 
        $('#idnavmenu_Loyalty').text(i18next.t('idnavmenu_Loyalty')); 
        $('#idnavmenu_UpdatePlan').text(i18next.t('idnavmenu_UpdatePlan')); 
        $('#idnavmenu_Logout').text(i18next.t('idnavmenu_Logout')); 
        $('#idnavmenu_BuyNewPlan').text(i18next.t('idnavmenu_BuyNewPlan')); 
        $('#header_buy_porte_token').text(i18next.t('header_buy_porte_token')); 
        $('#btn_buy_coin').text(i18next.t('btn_buy_coin')); 
        $('#idnavmenu_Profile').text(i18next.t('idnavmenu_Profile')); 
        $('#idnavmenu_Disputes').text(i18next.t('idnavmenu_Disputes')); 
        /* Sub Menus */
        $('#idnavsubmenu_Dashboard').text(i18next.t('idnavsubmenu_Dashboard')); 
        $('#idnavsubmenu_ViewandEdit').text(i18next.t('idnavsubmenu_ViewandEdit')); 
        $('#idnavsubmenu_ViewWallet').text(i18next.t('idnavsubmenu_ViewWallet')); 
        $('#idnavsubmenu_TopupWallet').text(i18next.t('idnavsubmenu_TopupWallet')); 
        $('#idnavsubmenu_SendMoney').text(i18next.t('idnavsubmenu_SendMoney')); 
        $('#idnavsubmenu_CashTransactions').text(i18next.t('idnavsubmenu_CashTransactions')); 
        $('#idnavsubmenu_SetupWallet').text(i18next.t('idnavsubmenu_SetupWallet')); 
        $('#idnavsubmenu_Bitcoin').text(i18next.t('idnavsubmenu_Bitcoin')); 
        $('#idnavsubmenu_Assets').text(i18next.t('idnavsubmenu_Assets')); 
        $('#idnavsubmenu_BuyAsset').text(i18next.t('idnavsubmenu_BuyAsset')); 
        $('#idnavsubmenu_TransferCoin').text(i18next.t('idnavsubmenu_TransferCoin')); 
        $('#idnavsubmenu_Swap').text(i18next.t('idnavsubmenu_Swap')); 
        $('#idnavsubmenu_SellAssettoFiat').text(i18next.t('idnavsubmenu_SellAssettoFiat')); 
        $('#idnavsubmenu_DisplayTransactions').text(i18next.t('idnavsubmenu_DisplayTransactions')); 
        $('#idnavsubmenu_DigitalRemittance').text(i18next.t('idnavsubmenu_DigitalRemittance')); 
        $('#idnavsubmenu_FiatRemittance').text(i18next.t('idnavsubmenu_FiatRemittance')); 
        $('#idnavsubmenu_ShowCards').text(i18next.t('idnavsubmenu_ShowCards')); 
        $('#idnavsubmenu_RedeemPoints').text(i18next.t('idnavsubmenu_RedeemPoints')); 
        $('#idnavsubmenu_ViewDispute').text(i18next.t('idnavsubmenu_ViewDispute')); 
        $('#idnavsubmenu_RaiseDisputes').text(i18next.t('idnavsubmenu_RaiseDisputes')); 
        $('#idnavsubmenu_ChangeYourPlan').text(i18next.t('idnavsubmenu_ChangeYourPlan')); 
        $('#idnavsubmenu_BuyNewPlan').text(i18next.t('idnavsubmenu_BuyNewPlan')); 
        /* Quick links */
        $('#idnav_UserSettings').text(i18next.t('idnav_UserSettings'));        
        $('#idnav_UpdateProfile').text(i18next.t('idnav_UpdateProfile'));        
        $('#idnav_Logout').text(i18next.t('idnav_Logout'));        
        /* Specific Page Content */
		$('#id_profile_breadcrumb').text(i18next.t('id_profile_breadcrumb'));
		$('#id_view_and_edit_breadcrumb').text(i18next.t('id_view_and_edit_breadcrumb'));
		$('#edit_profile_btn_label').text(i18next.t('edit_profile_btn_label'));
		$('#spn_personal_details').text(i18next.t('spn_personal_details'));
		$('#spn_document').text(i18next.t('spn_document'));
		$('#spn_security').text(i18next.t('spn_security'));
		$('#full_name_label').text(i18next.t('full_name_label'));
		$('#full_name_address_labellabel').text(i18next.t('full_name_address_labellabel'));
		$('#contact_label').text(i18next.t('contact_label'));
		$('#dob_label').text(i18next.t('dob_label'));
		$('#status_label').text(i18next.t('status_label'));
		$('#license_no_label').text(i18next.t('license_no_label'));
		$('#passport_no_label').text(i18next.t('passport_no_label'));
		$('#email_label').text(i18next.t('email_label'));
		$('#gender_label').text(i18next.t('gender_label'));
		$('#documents_uploaded_label').text(i18next.t('documents_uploaded_label'));
		$('#spn_click_retereve_keys_label').text(i18next.t('spn_click_retereve_keys_label'));
		$('#spn_change_password_label').text(i18next.t('spn_change_password_label'));
		$('#keys_retrival_header').text(i18next.t('keys_retrival_header'));
		$('#question_label').text(i18next.t('question_label'));
		$('#yes_label').text(i18next.t('yes_label'));
		$('#no_label').text(i18next.t('no_label'));
		$('#first_to_fourth_label').text(i18next.t('first_to_fourth_label'));
		$('#9th_to_12th_word_label').text(i18next.t('9th_to_12th_word_label'));
		$('#1st_word_label').text(i18next.t('1st_word_label'));
		$('#2nd_word_label').text(i18next.t('2nd_word_label'));
		$('#3rd_word_label').text(i18next.t('3rd_word_label'));
		$('#4th_word_label').text(i18next.t('4th_word_label'));
		$('#6th_word_label').text(i18next.t('6th_word_label'));
		$('#7th_word_label').text(i18next.t('7th_word_label'));
		$('#8th_word_label').text(i18next.t('8th_word_label'));
		$('#9th_word_label').text(i18next.t('9th_word_label'));
		$('#10th_word_label').text(i18next.t('10th_word_label'));
		$('#11th_word_label').text(i18next.t('11th_word_label'));
		$('#12th_word_label').text(i18next.t('12th_word_label'));
		$('#change_password_label').text(i18next.t('change_password_label'));
		$('#id_submit_btn_label').text(i18next.t('id_submit_btn_label'));
		$('#spn_edit_profile').text(i18next.t('spn_edit_profile'));
		$('#address_label').text(i18next.t('address_label'));
		$('#spn_close_btn').text(i18next.t('spn_close_btn'));
		$('#spn_submit_btn').text(i18next.t('spn_submit_btn'));
		$('#data-validation-error-swal-header').text(i18next.t('data-validation-error-swal-header'));
		$('#data-validation-problem-with-connection').text(i18next.t('data-validation-problem-with-connection'));
		$('#data-validation-check-your-data').text(i18next.t('data-validation-check-your-data'));
		$('#data-validation-failed-toget-customer-details').text(i18next.t('data-validation-failed-toget-customer-details'));
		$('#data-validation-please-enter-address').text(i18next.t('data-validation-please-enter-address'));
		$('#data-validation-success-header').text(i18next.t('data-validation-success-header'));
		$('#data-validation-profile-edited-successful-text').text(i18next.t('data-validation-profile-edited-successful-text'));
		$('#data-validation-profile-edite-failed-text').text(i18next.t('data-validation-profile-edite-failed-text'));
		$('#data-validation-are-you-sure').text(i18next.t('data-validation-are-you-sure'));
		$('#data-validation-this-the-correct-sequence').text(i18next.t('data-validation-this-the-correct-sequence'));
		$('#data-validation-yes-button').text(i18next.t('data-validation-yes-button'));
		$('#data-validation-no-button').text(i18next.t('data-validation-no-button'));
		$('#data-validation-enter-password-label').text(i18next.t('data-validation-enter-password-label'));
		$('#data-validation-password-input-label').text(i18next.t('data-validation-password-input-label'));
		$('#data-validation-password-inpu-error').text(i18next.t('data-validation-password-inpu-error'));
		$('#data-validation-enter-your-current-passsword').text(i18next.t('data-validation-enter-your-current-passsword'));
		$('#data-validation-enter-your-password').text(i18next.t('data-validation-enter-your-password'));
		$('#data-validation-password-is-too-weak').text(i18next.t('data-validation-password-is-too-weak'));
		$('#data-validation-password-does-not-match').text(i18next.t('data-validation-password-does-not-match'));
		$('#data-validation-ok-btn').text(i18next.t('data-validation-ok-btn'));
		$('#data-validation-cancel-btn').text(i18next.t('data-validation-cancel-btn'));
		$('#data-validation-finish-btn').text(i18next.t('data-validation-finish-btn'));
  }
	  function fnChangePageLanguage(lng){
		console.log('lng ',lng);
		  i18next.changeLanguage(lng, fnChangeLanguage(lng))
		  $('#hdnlangpref').val(lng);
	  }
	  i18next.on('languageChanged', function(lng) {
		updateContent(lng);
	  });
	  function fnChangeLanguage(lang){
		  if(lang=='EN')  $('#lang_def').text('EN') 
			else if(lang=='ES')  $('#lang_def').text('ES')
	  }

(function($) {
	"use strict";
	
	// Toolbar extra buttons
	var btnFinish = $('<button></button>').text($('#data-validation-finish-btn').text())
		.addClass('btn btn-success')
		.on('click', function(){ 
			fnSubmitWords();
			return false;
		 });	
	var btnCancel = $('<button></button>').text($('#data-validation-cancel-btn').text())
		.addClass('btn btn-danger')
		.on('click', function(){
			 // Reset Page
					fnResetPage();
					return false;
		
		 });


	// Smart Wizard
	$('#smartwizard').smartWizard({
			selected: 0,
			theme: 'default',
			transitionEffect:'fade',
			showStepURLhash: true,
			toolbarSettings: {
							  toolbarButtonPosition: 'end',
							  toolbarExtraButtons: [btnFinish, btnCancel]
							}
	});
		
	// Arrows Smart Wizard 1
	$('#smartwizard-1').smartWizard({
			selected: 0,
			theme: 'arrows',
			transitionEffect:'fade',
			showStepURLhash: false,
			toolbarSettings: {
							  toolbarExtraButtons: [btnFinish, btnCancel]
							}
	});
			
	// Circles Smart Wizard 1
	$('#smartwizard-2').smartWizard({
			selected: 0,
			theme: 'circles',
			transitionEffect:'fade',
			showStepURLhash: false,
			toolbarSettings: {
							  toolbarExtraButtons: [btnFinish, btnCancel]
							}
	});
			
	// Dots Smart Wizard 1
	$('#smartwizard-3').smartWizard({
			selected: 0,
			theme: 'dots',
			transitionEffect:'fade',
			showStepURLhash: false,
			toolbarSettings: {
							  toolbarExtraButtons: [btnFinish, btnCancel]
							}
	});
	
})(jQuery);

function fnResetPage(){
			  $('#form-leftmenu').attr('action', 'ws');
              $('input[name="qs"]').val('prf');
              $('input[name="rules"]').val('View and Edit');
              $('#form-leftmenu input[name="hdnlang"]').val($('#lang_def').text());
              $("#form-leftmenu").submit();
		  }
$(window).on("load", function(e) {
    $("#global-loader").fadeOut("slow");
})
var name='';
var email='';
var address='';
var contact ='';

function fnEditProfileButton(){
	//alert("Inside here");
	$('#editaddress').val($("#address").text());
	$("#exampleModal3").modal('show');
	
}
$("button[data-dismiss=modal]").click(function(){
	$(".modal").modal('hide');
});


function fnCallCustDetails(){
	$('#profile-form input[name="qs"]').val('prf');
	$('#profile-form input[name="rules"]').val('fetchcustdetails');
	$('#profile-form input[name="relno"]').val(relno);
	var form = $('#profile-form')[0];
    var formData = new FormData(form);	
	$.ajaxSetup({
		beforeSend: function(xhr) {
			xhr.setRequestHeader('x-api-key' , getAPIKey());
		}
	});
	$.ajax({
		url: 'ms',
		data: formData,
		processData: false,
		contentType: false,
		type: 'POST',
		success: function (result) {
			if (result) {
				var data = JSON.parse(result);

				if(data.error="false"){
					let doclist=data.kycdocslist;
					let docCounter=doclist.length;
                    $('#custname').html(data.name);
                    $('#userid').html(data.userid);
                    $('#name').html(data.name);
                    $('#address').html(data.address);
                    $('#contact').html(data.contact);
                    $('#dob').html(data.dob);
                    $('#status').html(data.status);
					if (data.nationalid){
						$('#nationalid').html(data.nationalid);
						$('#license_div').removeClass('hidden');
					}else{
						$('#license_div').addClass('hidden');
					}
					if (data.passportno){
						$('#passportno').html(data.passportno);
						$('#passport_div').removeClass('hidden');
					}else{
						$('#passport_div').addClass('hidden');
					}
      
                    $('#email').html(data.email);
                    $('#contact').html(data.contact);
                    $('#gender').html(data.gender);

						 name=data.name;
						 email=data.email;
						 address=data.address;
						 contact =data.contact;
					
                    $("#docarea").html("");
                    var htmlDoc='';
					if(docCounter>0){
						for (let i=0;i<docCounter;i++){
						 htmlDoc+= `<div class="media overflow-visible" style="margin-bottom:10px;">
                                <a class="media-left" href="javascript:;"><img alt=""style="border-radius:0;"  class="avatar avatar-md brround" src="assets/images/icons/documents.svg"></a>
                                <div class="media-body valign-middle">
                                    <b class="text-inverse"><span>`+doclist[i]+`</span></b>
                                </div>
                                <div class="media-body valign-middle text-right overflow-visible">
                                    <button type="button" class="btn btn-primary btn-sm " data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" onclick="javascript:fnDownloadDocument(\'`+doclist[i]+`\')">
                                        Download
                                    </button>
                                    
                                </div>
                            </div>
                          `;
						}
					}else{
						 htmlDoc+= `<div class="media overflow-visible" style="margin-bottom:10px;">
                                <a class="media-left" href="javascript:;"><img alt="" style="border-radius:0;"class="avatar avatar-md brround" src="assets/images/icons/documents.svg"></a>
                                <div class="media-body valign-middle">
                                    <b class="text-inverse"><span>No Documents Present</span></b>
                                </div>
                            </div>
                          `;
					}
                    $('#docarea').append(htmlDoc); 

				}else{
                        Swal.fire({
                            icon: 'error',
                            title: $('#data-validation-error-swal-header').text(),
                            text: $('#data-validation-failed-toget-customer-details').text(),
                            showConfirmButton: true,
                            confirmButtonText: "Ok",
                            closeOnConfirm: true,
                            }).then(function() {
                                $('#profile-form').attr('action', 'ws');
                                $('input[name="qs"]').val('dash');
                                $('input[name="rules"]').val('Home');
                                $("#profile-form").submit();
                    });
                }
			}
				
			
		},
		error: function() {
            Swal.fire({
                icon: 'error',
                title:  $('#data-validation-error-swal-header').text(),
                text:  $('#data-validation-problem-with-connection').text(),
                showConfirmButton: true,
                confirmButtonText: "Ok",
                }).then(function() {
                    $('#profile-form').attr('action', 'ws');
                    $('input[name="qs"]').val('lgt');
                    $('input[name="rules"]').val('lgtdefault');
                    $("#profile-form").submit();	
        });
		}
	}); 
}

function fnSubmitEditDetails(){
	$( "#edit-form" ).validate( {
	rules: {
	
		editaddress: {
			required: true
		}
	},
	messages: {
		
		editaddress: {
			required:  $('#data-validation-please-enter-address').text(),
			
		
		}
	},
	errorElement: "em",
	errorPlacement: function ( error, element ) {
		// Add the `invalid-feedback` class to the error element
		error.addClass( "invalid-feedback" );
		if ( element.prop( "type" ) === "checkbox" ) {
			error.insertAfter( element.next( "label" ) );
		} else {
			error.insertAfter( element );
		}
	},
	highlight: function ( element, errorClass, validClass ) {
		$( element ).addClass( "is-invalid" ).removeClass( "is-valid" );
	},
	unhighlight: function (element, errorClass, validClass) {
		$( element ).addClass( "is-valid" ).removeClass( "is-invalid" );
	}
	
 });
	if($( "#edit-form" ).valid()){

			  $('#edit-form input[name="qs"]').val('prf');
			  $('#edit-form input[name="rules"]').val('editcustdetails');
			  $('#edit-form input[name="relno"]').val(relno);
				  var formData = new FormData($('#edit-form')[0]);
				  
				 /* for (var pair of formData.entries()) {
					  console.log(pair[0] + " - " + pair[1]);
					}	*/			
			  // Call Ajax here and submit the form 							
						$.ajaxSetup({
						  beforeSend: function(xhr) {
							  xhr.setRequestHeader('x-api-key' , getAPIKey());
						  }
					  });
					  $.ajax({
						  url: 'ms',
						  data: formData,
						  processData: false,
						  contentType: false,
						  type: 'POST',
						  success: function (result) {
							  if (result) {
								  var data = JSON.parse(result);
								   if(data.error=='false'){
								//       console.log("no error");
										  Swal.fire({
												   icon: 'success',
												   title: $('#data-validation-success-header').text(),
												   text: $('#data-validation-profile-edited-successful-text').text(),
												   showConfirmButton: true,
												   confirmButtonText: "Ok",
												   closeOnConfirm: true,
											   }).then(function() {
													// Call login page
													  $('#edit-form').attr('action', 'ws');
													  $('input[name="qs"]').val('prf');
													  $('input[name="rules"]').val('View and Edit');
													  $("#edit-form").submit();
											   });	
									   }else{
									   //swal.fire('Error message');
											 Swal.fire({
											 title: $('#data-validation-success-header').text(),              
											 text: $('#data-validation-profile-edite-failed-text').text(), 
											 icon: "error",
										   showConfirmButton: true,
										   confirmButtonText: "Ok",
										   closeOnConfirm: true,
										   }).then(function() {
												   // Reload the page
										   });	
									   } 
							  }
						   },
						   error: function() {
							  Swal.fire({
										  icon: 'error',
										  title: $('#data-validation-error-swal-header').text(),  
										  text: $('#data-validation-problem-with-connection').text(), 
										  showConfirmButton: true,
										  confirmButtonText: "Ok",
										  closeOnConfirm: true,
										  }).then(function() {
											 /* $('#cust-reg-form').attr('action', 'ws');
											  $('input[name="qs"]').val('lgt');
											  $('input[name="rules"]').val('lgtdefault');
											  $("#cust-reg-form").submit();*/
								  });
						  }
					  });
	
	
  }else  {
				  Swal.fire({
					  icon: 'error',
					  title: $('#ddata-validation-error-swal-header').text(),
					  text: $('#data-validation-error-swal-header').text()
				  })
				  return false;
	 }
	
}

function fnDownloadDocument(path){
	$('#profile-form').attr('action', 'ws');
	$('input[name="qs"]').val('doc');
	$('input[name="usertype"]').val('C');
	$('input[name="relno"]').val(relno);
	$('input[name="rules"]').val('assetdownload');
	$('input[name="hdnassetpath"]').val(path);
	$("#profile-form").submit();
}

function fnRetrieveKeys() {
		$("#div_confirmation").hide();
		$("#div_wizard").show();
		$("#div_change_password").hide();
		$("#div_password").hide();
}

function fnChangePassword() {
		$("#div_confirmation").hide();
		$("#div_change_password").hide();
		$("#div_password").show();
		$("#div_wizard").hide();
}

function fnSubmitWords(){
	$( "#mnemonic-words-form" ).validate( {
		rules: {
			input1word: {
				required: true
			},
			input2word: {
				required: true
			},
			input3word: {
				required: true
			},
			input4word: {
				required: true
			}, 
			input5word: {
				required: true
			}, 
			input6word: {
				required: true
			}, 
			input7word: {
				required: true
			}, 
			input8word: {
				required: true
			}, 
			input9word: {
				required: true
			}, 
			input10word: {
				required: true
			}, 
			input11word: {
				required: true
			}, 
			input12word: {
				required: true
			}
		
		},
		messages: {
			input1word: {
				required: $('#data-validation-please-fill-out-this-field').text(),
			},
			input2word: {
				required: $('#data-validation-please-fill-out-this-field').text(),
			},
			input3word: {
				required: $('#data-validation-please-fill-out-this-field').text(),
			},
			input4word: {
				required: $('#data-validation-please-fill-out-this-field').text(),
			}, 
			input5word: {
				required: $('#data-validation-please-fill-out-this-field').text(),
			}, 
			input6word: {
				required: $('#data-validation-please-fill-out-this-field').text(),
			}, 
			input7word: {
				required: $('#data-validation-please-fill-out-this-field').text(),
			}, 
			input8word: {
				required: $('#data-validation-please-fill-out-this-field').text(),
			}, 
			input9word: {
				required: $('#data-validation-please-fill-out-this-field').text(),
			}, 
			input10word: {
				required: $('#data-validation-please-fill-out-this-field').text(),
			}, 
			input11word: {
				required: $('#data-validation-please-fill-out-this-field').text(),
			}, 
			input12word: {
				required: $('#data-validation-please-fill-out-this-field').text(),
			}
		},
		errorElement: "em",
		errorPlacement: function ( error, element ) {
			// Add the `invalid-feedback` class to the error element
			error.addClass( "invalid-feedback" );
			if ( element.prop( "type" ) === "checkbox" ) {
				error.insertAfter( element.next( "label" ) );
			} else {
				error.insertAfter( element );
			}
		},
		highlight: function ( element, errorClass, validClass ) {
			$( element ).addClass( "is-invalid" ).removeClass( "is-valid" );
		},
		unhighlight: function (element, errorClass, validClass) {
			$( element ).addClass( "is-valid" ).removeClass( "is-invalid" );
		}
		
	 });
	if($("#mnemonic-words-form" ).valid()){
		var word1 = $("#input1word").val();
		var word2 = $("#input2word").val();
		var word3 = $("#input3word").val();
		var word4 = $("#input4word").val();
		var word5 = $("#input5word").val();
		var word6 = $("#input6word").val();
		var word7 = $("#input7word").val();
		var word8 = $("#input8word").val();
		var word9 = $("#input9word").val();
		var word10 = $("#input10word").val();
		var word11 = $("#input11word").val();
		var word12 = $("#input12word").val();
		var mnemonicWords = word1+","+word2+","+word3+","+word4+","+word5+","+word6+","+word7+","+word8+","+word9+","+word10+","+word11+","+word12;
		const swalWithBootstrapButtons = Swal.mixin({
			customClass: {
			  confirmButton: 'btn btn-success',
			  cancelButton: 'btn btn-danger'
			},
			buttonsStyling: false
		  })
		  
		  swalWithBootstrapButtons.fire({
			title: $('#data-validation-are-you-sure').text(),
			html:
				' <b>'+$('#data-validation-this-the-correct-sequence').text()+'</b> <br>' +
				''+word1 +" "+word2+" "+word3+" "+word4+" "+word5+" "+word6+" "+word7+" "+word8+" "+word9+" "+word10+" "+word11+" "+word12+'',
			icon: 'info',
			showCancelButton: true,
			confirmButtonText:  $('#data-validation-yes-button').text(),
			cancelButtonText:  $('#data-validation-no-button').text(),
			reverseButtons: true
		  }).then((result) => {
			if (result.isConfirmed) {
			  
				fnPassword(mnemonicWords);
			} else if (
			  /* Read more about handling dismissals below */
			  result.dismiss === Swal.DismissReason.cancel
			) {
			  /*swalWithBootstrapButtons.fire(
				'Cancelled',
				'Your imaginary file is safe :)',
				'error'
			  )*/
			}
		  })
	}else  {
		Swal.fire({
			icon: 'error',
			title: $('#data-validation-error-swal-header').text(),
			text: $('#data-validation-check-your-data').text()
		})
		return false;
	}
}

function fnSendDataToBackend(password, mnemonicWords){
	console.log('mnemonicWords are ', mnemonicWords);
	var formData = new FormData();
	formData.append('password', password);
	formData.append('mnemonic', mnemonicWords);	
	formData.append('qs', 'prf');
	formData.append('rules', 'retrieval_private_key');				
	$.ajaxSetup({
	beforeSend: function(xhr) {
		xhr.setRequestHeader('x-api-key' , getAPIKey());
	}
	});
	$.ajax({
		url: 'ms',
		data: formData,
		processData: false,
		contentType: false,
		type: 'POST',
		success: function (result) {
			if (result) {
				var data = JSON.parse(result);
					if(data.error=='false'){
				//       console.log("no error");
						Swal.fire({
									icon: 'success',
									title: " Successful",
									html:
									'<b> Stellar Public Key: </b>' +data.public_key+
									'<br><b> Stellar Private Key: </b>'+data.private_key+
									'<br><b> Bitcoin Address: </b>'+data.btc_address+
									'<br><b> Bitcoin Public Key: </b>'+data.btc_public_key+
									'<br><b> Bitcoin Private Key: </b>'+data.btc_private_key,
									showConfirmButton: true,
									confirmButtonText: "Ok",
									closeOnConfirm: true,
								}).then(function() {
									// Call login page
									$('#edit-form').attr('action', 'ws');
									$('input[name="qs"]').val('prf');
									$('input[name="rules"]').val('View and Edit');
									$("#edit-form").submit();
								});	
						}else{
							Swal.fire({
							title: "Oops",              
							text: data.message, 
							icon: "error",
							showConfirmButton: true,
							confirmButtonText: "Ok",
							closeOnConfirm: true,
							}).then(function() {
							});	
						} 
			}
			},
			error: function() {
			Swal.fire({
						icon: 'error',
						title:  $('#data-validation-error-swal-header').text(),
						text:  $('#data-validation-problem-with-connection').text(),
						showConfirmButton: true,
						confirmButtonText: "Ok",
						closeOnConfirm: true,
						}).then(function() {
							
				});
		}
	});

}

function fnPassword(mnumonic){
	const { value: password   } = Swal.fire({
		title: $('#data-validation-enter-password-label').text(),
		input: 'password',
		inputLabel: $('#data-validation-password-input-label').text(),
		showCancelButton: true,
		inputAttributes: {
		autocapitalize: 'off',
		autocorrect: 'off'
		},
		inputValidator: (value) => {
		if (!value) {
			return $('#data-validation-password-inpu-error').text();
		}
		}
	}).then((result) => {
			if (result.value) {
				var txnpin3 = result.value;
				fnSendDataToBackend(txnpin3,mnumonic );
			}
		});
}
 $('#btn-test-submit').click(function() {
	  //Check for the data validation	
	  $("#set-password-form").validate({
		  rules: {
			  old_password: {
				  required: true,
			  },
			  new_password: {
				  required: true,
				   minlength : 5
			  },
			  confirm_password:{
                equalTo : "#new_password"
			},
		  },
		  messages: {
			   old_password: {
				  required: $('#data-validation-enter-your-current-passsword').text(),
			  },
			  new_password: {
				  required: $('#data-validation-enter-your-password').text(),
				   minlength : $('#data-validation-password-is-too-weak').text()
			  },
			  confirm_password:{
                equalTo : $('#data-validation-password-does-not-match').text()
			},
		  },
		  errorElement: "em",
		  errorPlacement: function(error, element) {
			  // Add the `invalid-feedback` class to the error element
			  error.addClass("invalid-feedback");
			  if (element.prop("type") === "checkbox") {
				  error.insertAfter(element.next("label"));
			  } else {
				  error.insertAfter(element);
			  }
		  },
		  highlight: function(element, errorClass, validClass) {
			  $(element).addClass("is-invalid").removeClass("is-valid");
		  },
		  unhighlight: function(element, errorClass, validClass) {
			  $(element).addClass("is-valid").removeClass("is-invalid");
		  }
	  });
  
  
	  if ($("#set-password-form").valid()) {
		  $('#set-password-form').attr('action', 'ms');
		  $('#set-password-form input[name="relno"]').val();
		  var formData = new FormData($('#set-password-form')[0]);
		  formData.append("hdnlang", $('#lang_def').text());
		  formData.append('qs', 'partdash');
		  formData.append('rules', 'cust_change_password');

			// Call Ajax here and submit the form 							
					  $.ajaxSetup({
						beforeSend: function(xhr) {
							xhr.setRequestHeader('x-api-key' , getAPIKey());
						}
					});				
					$.ajax({
						url: 'ms',
						data: formData,
						processData: false,
						contentType: false,
						type: 'POST',
						success: function (result) {
							if (result) {
								var data = JSON.parse(result);
								 if(data.error=='false'){
							  //       console.log("no error");
										Swal.fire({
												 icon: 'success',
												 title:  $('#data-validation-password-does-not-match').text(),
												 text: data.message,
												 showConfirmButton: true,
												 confirmButtonText: "Ok",
											 }).then(function() {
													 $('#get-page-form').attr('action', 'ws');
													 $('input[name="qs"]').val('prf');
													 $('input[name="rules"]').val('lgtdefault');
													 $("#get-page-form").submit();	
											 });	//lgt,Sign Out
									 }else{
									 //swal.fire('Error message');
										   Swal.fire({
										   title: $('#ops-manage-pricingplan-error-swal-header').text(),              
										   text: data.message, 
										   icon: "error",
										   footer: '<a href="#">'+$('#ops-manage-pricingplan-error-swal-contact-admin').text()+'</a>',
										 showConfirmButton: true,
										 confirmButtonText: "Ok",
										 }).then(function() {
												 //$('#logout-form').attr('action', 'ws');
												// $('input[name="qs"]').val('lgt');
												// $('input[name="rules"]').val('lgtdefault');
												// $("#logout-form").submit();
										  // hide all modal
											  $(".modal").modal('hide');												
										 });	
									 } 
							}
						 },
						 error: function() {
							Swal.fire({
										icon: 'error',
										title: $('#data-validation-error-swal-header').text(),
										text: $('#data-validation-problem-with-connection').text(),
										showConfirmButton: true,
										confirmButtonText:$('#data-validation-ok-btn').text(),
										}).then(function() {
										   // $('#logout-form').attr('action', 'ws');
										   // $('input[name="qs"]').val('lgt');
										   // $('input[name="rules"]').val('lgtdefault');
										   // $("#logout-form").submit();
											$(".modal").modal('hide');												
											
								}); 
						}
					});				
		  
  
	  } else {
	   
		  return false;
	  }
  });	

function showc() {
    var a = document.getElementById("upwd");
    if (a.type == "password") {
      a.type = "text";
    } else {
      a.type = "password";

    }

    $("#hide-password").removeClass("hidden");
    $("#show-password").addClass("hidden");
  }

  function hidec() {
    var a = document.getElementById("upwd");
    if (a.type == "text") {
      a.type = "password";
    } else {
      a.type = "text";
    }
    $("#show-password").removeClass("hidden");
    $("#hide-password").addClass("hidden");
  }